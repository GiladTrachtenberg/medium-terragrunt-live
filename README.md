# Terragrunt Deployment Repository

This repository hosts our Terragrunt configurations that reference our Terraform Modules to define the infrastructure for the different environments and global settings.

## Directory Structure

```
│   .gitignore
│   README.md
│   terragrunt.hcl
│
└───global_env
    │   env.hcl
    │
    ├───cloudwatch
    │       terragrunt.hcl
    │
    ├───iam
    │       terragrunt.hcl
    │
    ├───lambda
    │       terragrunt.hcl
    │
    ├───s3-backups
    │       terragrunt.hcl
    │
    └───sns
            terragrunt.hcl
```

Each environment directory contains a env.hcl file to define environment-specific values, and sub-directories for each of the AWS components that are being deployed.

Within each component directory is a terragrunt.hcl file that references the corresponding module from our [Terraform Modules repository](https://github.com/GiladTrachtenberg/medium-tf-modules), and inputs values specific to the deployment of that component for the specific environment.

## Usage

To use this repository, you'll need to have Terragrunt installed.

To plan all deployments for an environment (e.g., crnd):

```
cd global_env
terragrunt plan-all
```

To apply all deployments for an environment:

```
cd global_env
terragrunt apply-all
```

Please ensure you review any changes carefully before applying them.

## More Information

For more detailed information about each module and its inputs and outputs, please refer to our [Terraform Modules repository](https://github.com/GiladTrachtenberg/medium-tf-moduless).

## Note

The .terragrunt-cache directory and .terraform directories are generated by Terragrunt and Terraform respectively during the plan and apply processes. These directories are typically listed in the .gitignore file as they contain state and cache data.
